{% extends 'partials/admin_base.html' %}

{% block title %}View All Blogs{% endblock %}

{% block content %}

<div class="p-6">
    <h1 class="text-2xl font-semibold mb-4 text-gray-800">Content Management</h1>
    
    <div class="overflow-x-auto bg-white rounded-xl shadow-lg">
        <table class="min-w-full border-collapse">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-6 py-4 text-left text-sm font-semibold text-gray-700 border-b">Title</th>
                    <th class="px-6 py-4 text-left text-sm font-semibold text-gray-700 border-b">Author</th>
                    <th class="px-6 py-4 text-left text-sm font-semibold text-gray-700 border-b">Date</th>
                    <th class="px-6 py-4 text-left text-sm font-semibold text-gray-700 border-b">Status</th>
                    <th class="px-6 py-4 text-left text-sm font-semibold text-gray-700 border-b">Preview</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-200">
                <!-- Example Content Row -->
                <tr class="hover:bg-gray-50 transition-colors duration-200">
                    <td class="px-6 py-4 text-sm text-gray-800">How to Use OTP Login</td>
                    <td class="px-6 py-4 text-sm text-gray-600">John Doe</td>
                    <td class="px-6 py-4 text-sm text-gray-600">2025-03-01</td>
                    <td class="px-6 py-4">
                        <span class="px-2.5 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800">Pending</span>
                    </td>
                    <td class="px-6 py-4">
                        <button onclick="openViewModal('How to Use OTP Login', 'This is the content example...')" class="text-indigo-600 hover:text-indigo-900 transition-colors duration-200 font-medium">
                            View
                        </button>
                    </td>
                </tr>
                <tr class="hover:bg-gray-50 transition-colors duration-200">
                    <td class="px-6 py-4 text-sm text-gray-800">Advanced CSS Techniques</td>
                    <td class="px-6 py-4 text-sm text-gray-600">Jane Smith</td>
                    <td class="px-6 py-4 text-sm text-gray-600">2025-02-28</td>
                    <td class="px-6 py-4">
                        <span class="px-2.5 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800">Approved</span>
                    </td>
                    <td class="px-6 py-4">
                        <button onclick="openViewModal('Advanced CSS Techniques', 'Learn about CSS Grid, Flexbox, and advanced animations.')" class="text-indigo-600 hover:text-indigo-900 transition-colors duration-200 font-medium">
                            View
                        </button>
                    </td>
                </tr>
                <tr class="hover:bg-gray-50 transition-colors duration-200">
                    <td class="px-6 py-4 text-sm text-gray-800">Python for Data Science</td>
                    <td class="px-6 py-4 text-sm text-gray-600">Mike Johnson</td>
                    <td class="px-6 py-4 text-sm text-gray-600">2025-01-10</td>
                    <td class="px-6 py-4">
                        <span class="px-2.5 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-800">Rejected</span>
                    </td>
                    <td class="px-6 py-4">
                        <button onclick="openViewModal('Python for Data Science', 'Explore how Python can be used for data analysis and visualization.')" class="text-indigo-600 hover:text-indigo-900 transition-colors duration-200 font-medium">
                            View
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Content View Modal -->
    <div id="viewModal" class="fixed inset-0 bg-black bg-opacity-0 flex justify-center items-center transition-opacity duration-300 pointer-events-none">
        <div class="bg-white p-8 rounded-xl w-1/3 transform transition-all duration-300 scale-95 opacity-0">
            <h2 id="viewTitle" class="text-xl font-semibold mb-4 text-gray-800"></h2>
            <div class="h-64 overflow-y-auto pr-4">
                <p id="viewContent" class="text-gray-600 text-sm leading-relaxed"></p>
            </div>
            <div class="mt-6 flex justify-end">
                <button onclick="closeViewModal()" class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors duration-200 font-medium">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    function openViewModal(title, content) {
        const modal = document.getElementById('viewModal');
        const contentBox = modal.querySelector('div');
        document.getElementById('viewTitle').innerText = title;
        document.getElementById('viewContent').innerText = content;
        
        modal.classList.remove('bg-opacity-0', 'pointer-events-none');
        modal.classList.add('bg-opacity-30', 'pointer-events-auto');
        
        contentBox.classList.remove('scale-95', 'opacity-0');
        contentBox.classList.add('scale-100', 'opacity-100');
    }

    function closeViewModal() {
        const modal = document.getElementById('viewModal');
        const contentBox = modal.querySelector('div');
        
        modal.classList.add('bg-opacity-0', 'pointer-events-none');
        modal.classList.remove('bg-opacity-30', 'pointer-events-auto');
        
        contentBox.classList.add('scale-95', 'opacity-0');
        contentBox.classList.remove('scale-100', 'opacity-100');
    }
</script>


{% endblock content %}